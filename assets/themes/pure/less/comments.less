#inline-comments{
  > .inline-comment{
    padding-left: @padding * 3;
    width: @padding * 2;
    position: absolute;
    overflow: visible;
    > iframe{
      display: none;
      border: none;
      margin-top: -10px;
      width: 100%;
    }
    > .count{
      position: absolute;
      min-width: 18px;
      text-align: center;
      height: @line-height-computed;
      top:0;
      left: @padding;
      background-color: @gray;
      border-radius: 2px;
      color: white;
      padding: 0 6px;
      line-height: @line-height-computed;
      font-size: @font-size-small;
      pointer-events:none;
      opacity: 0;
      .transition(opacity .15s);
      &::before{
        content: ' ';
        position: absolute;
        left: 4px;
        bottom: -4px;
        .square(0);
        border-style: solid;
        border-width: 4px 4px 0 0;
        border-color: @gray transparent transparent transparent;
      }
      &:empty{
        pointer-events:none;
        opacity: 0;
      }
      &:not(:empty){
        pointer-events:auto;
        opacity: 1;
      }
      &:empty::after{
        content: '+';
      }
    }
    &.hover,
    &:hover{
      > .count{
        visibility: visible;
        pointer-events:auto;
        opacity: 1;
        &:hover{
          text-decoration: none;
          background-color: @gray-dark;
            &::before{
            border-color: @gray-dark transparent transparent transparent;
          }
        }
      }
    }
    &.active{
      z-index: 4;
      width: 100%;
      > iframe{
        display: block;
      }
      > .count{
        visibility: visible;
        opacity: 1;
        background-color: @brand-primary;
        &::before{
          border-color: @brand-primary transparent transparent transparent;
        }
      }
    }
  }
}